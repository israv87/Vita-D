{% load static %}
<!DOCTYPE html>
<html data-bs-theme="light" lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
    <title>Dashboard - NiceAdmin Bootstrap Template</title>
    <link rel="stylesheet" href="{% static 'assets/bootstrap/css/bootstrap.min.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/styles.min.css' %}" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <header class="d-flex align-items-center header fixed-top" id="header">
      <div class="d-flex justify-content-between align-items-center">
        <a class="d-flex align-items-center logo" href="{% url 'dashboard' %}"><span class="d-none d-lg-block" style="color: rgb(0, 0, 0); font-family: 'Open Sans', sans-serif">VITA -&nbsp;</span><img src="{% static 'assets/img/logo.png' %}" alt="VITA Logo" /></a><i class="bi bi-list toggle-sidebar-btn"></i>
      </div>
      <div class="search-bar">
        <form class="d-flex align-items-center search-form" method="POST" action="#">
          <input type="text" name="query" placeholder="Search" title="Enter search keyword" /><button type="submit" title="Search"><i class="bi bi-search"></i></button>
        </form>
      </div>
      <nav class="ms-auto header-nav">
        <ul class="d-flex align-items-center">
          <li class="d-block d-lg-none nav-item">
            <a class="nav-link nav-icon search-bar-toggle" href="#"><i class="bi bi-search"></i></a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link nav-icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-bell"></i><span class="badge bg-primary badge-number">4</span></a>
            <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow notifications">
              <li class="dropdown-header">
                You have 4 new notifications
                <span class="badge rounded-pill bg-primary p-2 ms-2">View all</span>
              </li>
              <li>
                <hr class="dropdown-divider" />
              </li>
              <li class="notification-item">
                <i class="text-warning bi bi-exclamation-circle"></i>
                <div>
                  <h4>Lorem Ipsum</h4>
                  <p>Quae dolorem earum veritatis oditseno</p>
                  <p>30 min. ago</p>
                </div>
              </li>
              <li>
                <hr class="dropdown-divider" />
              </li>
              <li class="notification-item">
                <i class="text-danger bi bi-x-circle"></i>
                <div>
                  <h4>Atque rerum nesciunt</h4>
                  <p>Quae dolorem earum veritatis oditseno</p>
                  <p>1 hr. ago</p>
                </div>
              </li>
              <li>
                <hr class="dropdown-divider" />
              </li>
              <li class="notification-item">
                <i class="text-success bi bi-check-circle"></i>
                <div>
                  <h4>Sit rerum fuga</h4>
                  <p>Quae dolorem earum veritatis oditseno</p>
                  <p>2 hrs. ago</p>
                </div>
              </li>
              <li>
                <hr class="dropdown-divider" />
              </li>
              <li class="notification-item">
                <i class="text-primary bi bi-info-circle"></i>
                <div>
                  <h4>Dicta reprehenderit</h4>
                  <p>Quae dolorem earum veritatis oditseno</p>
                  <p>4 hrs. ago</p>
                </div>
              </li>
              <li>
                <hr class="dropdown-divider" />
              </li>
              <li class="dropdown-footer">
                <a href="#">Show all notifications</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
    </header>
    <aside id="sidebar" class="sidebar">
      <ul class="sidebar-nav" id="sidebar-nav">
        <!-- Dashboard -->
        <li class="nav-item">
          <a class="nav-link" href="{% url 'dashboard' %}">
            <i class="bi bi-grid"></i>
            <span>Dashboard</span>
          </a>
        </li>
        <!-- Pacientes -->
        <li class="nav-item">
          <a class="nav-link collapsed" data-bs-target="#pacientes-nav" data-bs-toggle="collapse" href="#">
            <i class="bi bi-menu-button-wide"></i>
            <span>Pacientes</span>
            <i class="ms-auto bi bi-chevron-down"></i>
          </a>
          <ul id="pacientes-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
            <li>
              <a href="{% url 'nuevo_paciente' %}">
                <i class="bi bi-circle"></i>
                <span>Nuevo Paciente</span>
              </a>
            </li>
            <li>
              <a href="{% url 'historial_pacientes' %}">
                <i class="bi bi-circle"></i>
                <span>Historial de Pacientes</span>
              </a>
            </li>
          </ul>
        </li>
        <!-- Predicciones -->
        <li class="nav-item">
          <a class="nav-link collapsed" data-bs-target="#predicciones-nav" data-bs-toggle="collapse" href="#">
            <i class="bi bi-menu-button-wide"></i>
            <span>Predicciones</span>
            <i class="ms-auto bi bi-chevron-down"></i>
          </a>
          <ul id="predicciones-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
            <li>
              <a href="{% url 'nueva_prediccion' %}">
                <i class="bi bi-circle"></i>
                <span>Nueva Predicción</span>
              </a>
            </li>
            <li>
              <a href="{% url 'historial_predicciones' %}">
                <i class="bi bi-circle"></i>
                <span>Historial de predicciones</span>
              </a>
            </li>
          </ul>
        </li>
        <!-- Sistema -->
        <li class="nav-heading">Sistema</li>
        <li class="nav-item">
          <a class="nav-link collapsed" href="{% url 'profile' %}"><i class="bi bi-person"></i><span>Profile</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link collapsed" href="{% url 'faq' %}">
            <i class="bi bi-question-circle"></i>
            <span>F.A.Q</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link collapsed" href="{% url 'contact' %}">
            <i class="bi bi-envelope"></i>
            <span>Contact</span>
          </a>
        </li>
      </ul>
    </aside>
    <main id="main" class="main">
      <div class="pagetitle">
        <h1>Pacientes</h1>
        <nav>
          <ol class="breadcrumb">
            <li class="breadcrumb-item">
              <a href="index.html"><span>Home</span></a>
            </li>
            <li class="breadcrumb-item active">
              <span>Nuevo Paciente</span>
            </li>
          </ol>
        </nav>
      </div>
      <section class="section dashboard">
        <!-- Start: 1 Row 4 Columns -->
        <div class="container">
          <div class="row">
            <div class="col">
              <div class="card">
                <div class="card-body">
                  <h5 class="text-success-emphasis">Predicción de pacientes con déficit de Vitamina D usando Random Forest</h5>
                  <!---<ul class="nav nav-tabs d-flex nav-tabs-bordered" id="borderedTabJustified" role="tablist">
                    <li class="nav-item flex-fill" role="presentation">
                      <button class="active text-capitalize fs-5 nav-link w-100" id="NavRF" data-bs-toggle="tab" data-bs-target="#RF" type="button" role="tab" aria-controls="home" aria-selected="true">Random Forest</button>
                    </li>
                    <li class="nav-item flex-fill" role="presentation">
                      <button class="fs-5 nav-link w-100" id="NavSVM" data-bs-toggle="tab" data-bs-target="#SVM" type="button" role="tab" aria-controls="profile" aria-selected="false">Support Vector Machine</button>
                    </li>
                    <li class="nav-item flex-fill" role="presentation">
                      <button class="fs-5 nav-link w-100" id="NavRL" data-bs-toggle="tab" data-bs-target="#RL" type="button" role="tab" aria-controls="contact" aria-selected="false">Regresión logística</button>
                    </li>
                  </ul>--->
                  <div class="row">
                    <div class="col-md-6 col-xxl-12">
                      <div class="card">
                        <div class="card-body">
                          <h6 class="text-muted card-subtitle mb-2">Seleccione el paciente&nbsp;</h6>
                          <div>
                            <div class="table-responsive-custom">
                              <style>
                                .table-responsive-custom {
                                  max-height: calc(50px * 5); /* Ajusta este valor si el alto de tus filas es diferente */
                                  overflow-y: auto;
                                }
                                </style>
                              <table class="table table-hover">
                                <thead>
                                  <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Edad</th>
                                    <th scope="col">Sexo</th>
                                    <th scope="col">IMC</th>
                                    <th scope="col">Cintura</th>
                                    <th scope="col">Masa Muscular</th>
                                    <th scope="col">Explorar</th>
                                    <th scope="col">Predecir</th>
                                    <th scope="col">Ver Predicciones</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  {% for paciente in pacientes %}
                                  <tr class="clickable-row" data-id="{{ paciente.id }}">
                                    <td scope="row">{{ paciente.id }}</td>
                                    <td>{{ paciente.edad }}</td>
                                    <td>{{ paciente.sexo }}</td>
                                    <td>{{ paciente.imc }}</td>
                                    <td>{{ paciente.cintCad}}</td>
                                    <td>{{ paciente.masaMusc}}</td>
                                    <td>
                                      <button class="btn btn-info btn-sm btn-expandir" data-id="{{ paciente.id }}">Expandir</button>
                                    </td>
                                    <td>
                                      <button class="btn btn-primary btn-predict" data-id="{{ paciente.id }}">Predecir</button>
                                    </td>
                                    <td>
                                      <button class="btn btn-secondary btn-sm btn-ver-predicciones" data-id="{{ paciente.id }}" disabled>Ver Predicciones</button>
                                  </td>
                                  </tr>
                                  {% endfor %}
                                </tbody>                      
                              </table>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- Modal para Paciente Seleccionado -->
                    <div class="modal fade" id="pacienteModal" tabindex="-1" role="dialog" aria-labelledby="pacienteModalLabel" aria-hidden="true">
                      <div class="modal-dialog modal-lg" role="document">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h5 class="modal-title" id="pacienteModalLabel">Detalles del Paciente</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                          <div class="modal-body">
                            <div class="card">
                              <div class="card-body">
                                <h5 class="card-title">Paciente seleccionado:</h5>
                                <div class="row">
                                  <div class="col-md-2">
                                    <ul class="list-group">
                                      <li class="list-group-item">
                                        <span>Cédula:</span><label id="labelCedula" class="form-label">-</label>
                                      </li>
                                      <li class="list-group-item">
                                        <span>Sexo:</span><label id="labelSexo" class="form-label">-</label>
                                      </li>
                                      <li class="list-group-item">
                                        <span>Edad:</span><label id="labelEdad" class="form-label">-</label>
                                      </li>
                                    </ul>
                                  </div>
                                  <div class="col-md-2">
                                    <ul class="list-group">
                                      <li class="list-group-item">
                                        <span>IMC:</span><label id="labelIMC" class="form-label">-</label>
                                      </li>
                                      <li class="list-group-item">
                                        <span>Cintura:</span><label id="labelCintura" class="form-label">-</label>
                                      </li>
                                      <li class="list-group-item">
                                        <span>Grasa C.:</span><label id="labelGrasa" class="form-label">-</label>
                                      </li>
                                    </ul>
                                  </div>
                                  <div class="col-md-2">
                                    <ul class="list-group">
                                      <li class="list-group-item">
                                        <span>Cigarrilos:</span><label id="labelCigarrilos" class="form-label">-</label>
                                      </li>
                                      <li class="list-group-item">
                                        <span>Piel:</span><label id="labelPiel" class="form-label">-</label>
                                      </li>
                                      <li class="list-group-item">
                                        <span>Masa M.:</span><label id="labelMasa" class="form-label">-</label>
                                      </li>
                                    </ul>
                                  </div>
                                  <div class="col-md-2">
                                    <ul class="list-group">
                                      <li class="list-group-item">
                                        <span>Act Física:</span><label id="labelAct" class="form-label">-</label>
                                      </li>
                                      <li class="list-group-item">
                                        <span>Protector Solar:</span><label id="labelProtector" class="form-label">-</label>
                                      </li>
                                      <li class="list-group-item">
                                        <span>Exposicion días:</span><label id="labelExpoDías" class="form-label">-</label>
                                      </li>
                                    </ul>
                                  </div>
                                  <div class="col-md-3">
                                    <ul class="list-group">
                                      <li class="list-group-item">
                                        <span>Exposicion minutos:</span><label id="labelExpoMin" class="form-label">-</label>
                                      </li>
                                      <li class="list-group-item">
                                        <span>Vitamina D:</span><label id="labelVitaD" class="form-label">Label</label>
                                      </li>
                                    </ul>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                          </div>
                        </div>
                      </div>
                    </div>
                    
                          <!-- Modal para mostrar las predicciones de los pacientes -->
                          <!-- Modal para mostrar las predicciones de los pacientes -->
<!-- Modal para mostrar las predicciones de los pacientes -->
<div class="modal fade" id="prediccionesModal" tabindex="-1" role="dialog" aria-labelledby="prediccionesModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
          <div class="modal-header">
              <h5 class="modal-title" id="prediccionesModalLabel">Detalles de las Predicciones</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
              </button>
          </div>
          <div class="modal-body">
              <table class="table table-striped">
                  <thead>
                      <tr>
                          <th>ID Predicción</th>
                          <th>Fecha</th>
                          <th>Déficit de Vitamina D</th>
                          <th>Probabilidad (%)</th>
                      </tr>
                  </thead>
                  <tbody id="prediccionesModalBody">
                      <!-- Los datos de las predicciones se cargarán aquí -->
                  </tbody>
              </table>
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
          </div>
      </div>
  </div>
</div>

                  <div id="predict-url" data-url="{% url 'hacer_prediccion' %}" style="display:none;"></div>
                  <!-- Modal para mostrar los resultados de la predicción -->
<div class="modal fade" id="resultadoPrediccionModal" tabindex="-1" role="dialog" aria-labelledby="resultadoPrediccionModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
          <div class="modal-header">
              <h5 class="modal-title" id="resultadoPrediccionModalLabel">Resultado de la Predicción</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
              </button>
          </div>
          <div class="modal-body">
              <p>ID del Paciente: <span id="pacienteIdModal">1</span></p>
              <p>Resultado: <span id="respuestaModal">Si</span></p>
              <p>Probabilidad: <span id="probabilidadModal">70%</span></p>
              <div class="progress">
                  <div class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
              
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
          </div>
      </div>
  </div>
</div>
<h4>Factores de riesgo:</h4>
              <canvas id="importanceChartModal" style="max-height: 400px;"></canvas>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- End: 1 Row 4 Columns -->
        <!-- Start: 1 Row 2 Columns -->

        <!-- End: 1 Row 2 Columns -->
      </section>
    </main>
    <!-- Start: 1 Row 3 Columns -->
    <div class="container"></div>
    <!-- End: 1 Row 3 Columns -->
    <footer id="footer" class="footer">
      <div class="copyright">
        <span> © Copyright </span><strong><span>Universidad Técnica Particular de loja</span>
      </div>
    </footer>
    <a class="d-flex justify-content-center align-items-center back-to-top" href="#"><i class="bi bi-arrow-up-short"></i></a>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
    // Selecciona todos los botones de "Expandir" y asigna un manejador de eventos
    document.querySelectorAll('.btn-expandir').forEach(function (button) {
        button.addEventListener('click', function () {
            var pacienteId = this.getAttribute('data-id'); // Obtén el ID del paciente desde el atributo data-id

            // Realizar la solicitud para obtener detalles del paciente
            fetch(`/obtener_detalle_paciente/?id=${pacienteId}`)
            .then(response => {
                if (!response.ok) {
                    throw new Error('No se pudo obtener la información del paciente');
                }
                return response.json();
            })
            .then(data => {
                // Actualizar el contenido del modal con los datos del paciente
                document.getElementById('labelCedula').textContent = data.id;
                document.getElementById('labelSexo').textContent = data.sexo;
                document.getElementById('labelEdad').textContent = data.edad;
                document.getElementById('labelIMC').textContent = data.imc;
                document.getElementById('labelCintura').textContent = data.cintura;
                document.getElementById('labelGrasa').textContent = data.grasa_corporal;
                document.getElementById('labelCigarrilos').textContent = data.cigarrillos;
                document.getElementById('labelPiel').textContent = data.piel;
                document.getElementById('labelMasa').textContent = data.masa_muscular;
                document.getElementById('labelAct').textContent = data.actividad_fisica;
                document.getElementById('labelProtector').textContent = data.protector_solar;
                document.getElementById('labelExpoDías').textContent = data.exposicion_dias;
                document.getElementById('labelExpoMin').textContent = data.exposicion_minutos;
                document.getElementById('labelVitaD').textContent = data.vitamina_d;

                // Muestra el modal
                $('#pacienteModal').modal('show');
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Error al obtener los datos del paciente.');
            });
        });
    });
});
    </script>
  <script>
  function mostrarPrediccion(data) {
      document.getElementById('pacienteId').textContent = data.id_paciente;
      document.getElementById('respuesta').textContent = data.prediccion > 0.5 ? 'Sí' : 'No';
      document.getElementById('respuesta').style.color = data.prediccion > 0.5 ? 'red' : 'green';
      document.getElementById('probabilidad').textContent = `${(data.probabilidad * 100).toFixed(2)}%`;
      var barra = document.querySelector('.progress-bar');
      barra.style.width = `${data.probabilidad * 100}%`;
      barra.style.backgroundColor = data.probabilidad > 0.75 ? 'red' : data.probabilidad > 0.25 ? 'yellow' : 'green';
  }
  </script>
 <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

 <script>
  $(document).ready(function() {
      // Asumiendo que ya has definido el algoritmo seleccionado
      var selectedAlgorithm = $('#NavRF').text().trim();  
  
      $('.btn-predict').on('click', function() {
          var pacienteId = $(this).data('id');
  
          $.ajax({
              url: $('#predict-url').data('url'),  // URL para realizar la predicción
              type: 'POST',
              data: {
                  id: pacienteId,
                  algoritmo: selectedAlgorithm,
                  csrfmiddlewaretoken: '{{ csrf_token }}'
              },
              success: function(response) {
                  // Actualiza los textos de respuesta y probabilidad
                  $('#pacienteIdModal').text(pacienteId);
                  $('#respuestaModal').text(response.prediccion > 0.5 ? 'Sí' : 'No');
                  $('#probabilidadModal').text(`${(response.probabilidad * 100).toFixed(2)}%`);
                  
                  // Actualiza la barra de progreso con colores según el nivel de probabilidad
                  updateProgressBar(response.probabilidad);
  
                  // Actualiza el gráfico de importancia de los predictores
                  updateChart(response.features, response.importances);
  
                  // Muestra el modal con los resultados
                  $('#resultadoPrediccionModal').modal('show');
  
                  // Habilita el botón de 'Ver Predicciones'
                  $(`.btn-ver-predicciones[data-id='${pacienteId}']`).prop('disabled', false);
              },
              error: function(xhr, status, error) {
                  console.error('Error al realizar la predicción: ', error);
              }
          });
      });
  
      $('.btn-ver-predicciones').on('click', function() {
          var pacienteId = $(this).data('id');
          $.ajax({
              url: `/predicciones/paciente/${pacienteId}/`,  // URL para obtener predicciones detalladas
              type: 'GET',
              success: function(response) {
                  var predicciones = response.predicciones;
                  var contenidoModal = '<h5>Predicciones Detalladas:</h5>';
                  predicciones.forEach(function(pred) {
                      contenidoModal += `<p>ID Predicción: ${pred.id}, Predicción: ${(pred.prediccion * 100).toFixed(2)}%, Modelo: ${pred.modelo}</p>`;
                  });
                  $('#prediccionesModalBody1').html(contenidoModal);
                  $('#prediccionesModal1').modal('show');
              },
              error: function() {
                  alert('Error al obtener las predicciones');
              }
          });
      });
  
      function updateProgressBar(probabilidad) {
          var barra = $('#resultadoPrediccionModal .progress-bar');
          let color = probabilidad > 0.75 ? 'red' : probabilidad > 0.25 ? 'yellow' : 'green';
          barra.css({
              'width': `${probabilidad * 100}%`,
              'background-color': color
          });
      }
  
      function updateChart(features, importances) {
          var ctx = document.getElementById('importanceChartModal').getContext('2d');
          if (window.importanceChart) {
              window.importanceChart.destroy();
          }
          window.importanceChart = new Chart(ctx, {
              type: 'bar',
              data: {
                  labels: features,
                  datasets: [{
                      label: 'Importancia',
                      data: importances,
                      backgroundColor: 'rgba(54, 162, 235, 0.5)',
                      borderColor: 'rgba(54, 162, 235, 1)',
                      borderWidth: 1
                  }]
              },
              options: {
                  scales: {
                      y: {
                          beginAtZero: true
                      }
                  }
              }
          });
      }
  });
  </script>
<script>
  $(document).ready(function() {
      $('.btn-ver-predicciones').on('click', function() {
          var pacienteId = $(this).data('id');
          $.ajax({
              url: `/predicciones/paciente/${pacienteId}/`,
              type: 'GET',
              success: function(response) {
                  var predicciones = response.predicciones;
                  var contenidoTabla = '';
                  predicciones.forEach(function(pred) {
                      var estadoDeficit = pred.deficit === 1 ? 'Positivo' : 'Negativo'; // Asumiendo que 'deficit' es 1 o 0
                      contenidoTabla += `
                          <tr>
                              <td>${pred.id}</td>
                              <td>${pred.fechaPred}</td>
                              <td>${estadoDeficit}</td>
                              <td>${(pred.probabilidad * 100).toFixed(2)}%</td>
                          </tr>`;
                  });
                  $('#prediccionesModalBody').html(contenidoTabla);
                  $('#prediccionesModal').modal('show');
              },
              error: function() {
                  alert('Error al obtener las predicciones');
              }
          });
      });
  });
  </script>
  <script>
    $(document).ready(function() {
        $.ajax({
            url: '/verificar-predicciones-previas/',  // Asegúrate de que esta URL es correcta
            type: 'GET',
            success: function(response) {
                response.resultados.forEach(function(resultado) {
                    if (resultado.tiene_predicciones) {
                        $(`.btn-ver-predicciones[data-id='${resultado.paciente_id}']`).prop('disabled', false);
                    }
                });
            },
            error: function() {
                console.error('Error al verificar las predicciones previas');
            }
        });
    
        $('.btn-ver-predicciones').on('click', function() {
            var pacienteId = $(this).data('id');
            // Implementa la funcionalidad de descarga aquí, si necesario
            console.log('Descargar predicciones para paciente:', pacienteId);
        });
    });
    </script>
      
    <script src="{% static 'assets/bootstrap/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'assets/js/script.min.js' %}"></script>
  </body>
</html>
